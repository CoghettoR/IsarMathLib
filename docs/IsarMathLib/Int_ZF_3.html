<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Theory Int_ZF_3 (Isabelle2020: April 2020)</title>
<link media="all" rel="stylesheet" type="text/css" href="isabelle.css"/>
</head>

<body>
<div class="head"><h1>Theory Int_ZF_3</h1>

<span class="command">theory</span> <span class="name">Int_ZF_3</span><br/>
<span class="keyword">imports</span> <a href="Int_ZF_2.html"><span class="name">Int_ZF_2</span></a><br/>

</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*    This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2005 - 2009  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS&#39;&#39; AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span></span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">section</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Integers 3&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Int_ZF_3</span><span> </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Int_ZF_2</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;This theory is a continuation of &#8249;Int_ZF_2&#8250;. We consider 
  here the properties of slopes (almost homomorphisms on integers)
  that allow to define the order relation and multiplicative
  inverse on real numbers. We also prove theorems that allow to show 
  completeness of the order relation of real numbers we define in &#8249;Real_ZF&#8250;.
&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Positive slopes&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;This section provides background material for defining the order relation on real numbers.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Positive slopes are functions (of course.)&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L1</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>AlmostHoms_def</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A small technical lemma to simplify the proof of the next theorem.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L1A</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;n &#8712; f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>) &#8745; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>. a\&lt;lsq&gt;n&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. a \&lt;lsq&gt; f`(M)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span> </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>func_imagedef</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The next lemma is Lemma 3 in the Arthan&#39;s paper.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Arthan_Lem_3</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;D &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. (m\&lt;ra&gt;&#120813;)&#8901;D \&lt;lsq&gt; f`(m&#8901;M)&quot;</span></span></span><span> 
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?E</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;max&#948;(f) \&lt;ra&gt; D&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?A</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>) &#8745; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;D\&lt;lsq&gt;?E&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L3</span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>Int_ZF_2_L15D</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?A &#8838; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?A &#8713; Fin(&#8484;)&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814;&#8901;?E &#8712; &#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_two_three_are_int</span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_1_1_L5</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>.  &#120814;&#8901;?E \&lt;lsq&gt; f`(M)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L2A</span><span> </span><span>Int_ZF_2_3_L1A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>M</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814;&#8901;?E \&lt;lsq&gt; f`(M)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>m</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>A4</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120813;\&lt;lsq&gt;m&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L3</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>II</span><span> </span><span>III</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(&#120813;\&lt;ra&gt;&#120813;) &#8901;?E \&lt;lsq&gt; f`(&#120813;&#8901;M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;k. 
      &#120813;\&lt;lsq&gt;k &#8743; (k\&lt;ra&gt;&#120813;)&#8901;?E \&lt;lsq&gt; f`(k&#8901;M) &#10230; (k\&lt;ra&gt;&#120813;\&lt;ra&gt;&#120813;)&#8901;?E \&lt;lsq&gt; f`((k\&lt;ra&gt;&#120813;)&#8901;M)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>      </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>k</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A5</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120813;\&lt;lsq&gt;k&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A6</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(k\&lt;ra&gt;&#120813;)&#8901;?E \&lt;lsq&gt; f`(k&#8901;M)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;k&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;k\&lt;ra&gt;&#120813; &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?E&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;(k\&lt;ra&gt;&#120813;)&#8901;?E &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814;&#8901;?E &#8712; &#8484;&quot;</span></span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>PositiveSet_def</span><span> </span><span>int_zero_one_are_int</span><span> 
</span><span>	    </span><span>Int_ZF_1_1_L5</span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	</span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>A5</span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;&#948;(f,k&#8901;M,M) &#8712; &#8484;&quot;</span></span></span><span>   </span><span class="string"><span class="delete"><span class="delete">&quot;abs(&#948;(f,k&#8901;M,M)) \&lt;lsq&gt; max&#948;(f)&quot;</span></span></span><span>   </span><span class="string"><span class="delete"><span class="delete">&quot;&#120812;\&lt;lsq&gt;D&quot;</span></span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_1_1_L5</span><span> 
</span><span>	    </span><span>Int_ZF_2_1_L7</span><span> </span><span>Int_ZF_2_L16C</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	</span><span class="keyword1"><span class="command">with</span></span><span> </span><span>III</span><span> </span><span>A6</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;(k\&lt;ra&gt;&#120813;)&#8901;?E \&lt;ra&gt; (&#120814;&#8901;?E \&lt;rs&gt; ?E) \&lt;lsq&gt; f`(k&#8901;M) \&lt;ra&gt; (f`(M) \&lt;ra&gt; &#948;(f,k&#8901;M,M))&quot;</span></span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_3_L19A</span><span> </span><span>int_ineq_add_sides</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	</span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(k\&lt;ra&gt;&#120813;\&lt;ra&gt;&#120813;)&#8901;?E \&lt;lsq&gt; f`((k\&lt;ra&gt;&#120813;)&#8901;M)&quot;</span></span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L1</span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_1_1_L4</span><span> 
</span><span>	    </span><span>Int_ZF_1_2_L11</span><span> </span><span>Int_ZF_2_1_L13</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m\&lt;ra&gt;&#120813;)&#8901;?E \&lt;lsq&gt; f`(m&#8901;M)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Induction_on_int</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A4</span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m\&lt;ra&gt;&#120813;)&#8901;D \&lt;lsq&gt; f`(m&#8901;M)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_3_L13A</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>.(m\&lt;ra&gt;&#120813;)&#8901;D \&lt;lsq&gt; f`(m&#8901;M)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>II</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A special case of &#8249; Arthan_Lem_3&#8250; when $D=1$.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">corollary</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Arthan_L_3_spec</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>.&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. n\&lt;ra&gt;&#120813; \&lt;lsq&gt; f`(n&#8901;M)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. n\&lt;ra&gt;&#120813; &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_1_1_L5</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. (n\&lt;ra&gt;&#120813;)&#8901;&#120813; = n\&lt;ra&gt;&#120813;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. (n\&lt;ra&gt;&#120813;)&#8901;&#120813; \&lt;lsq&gt; f`(n&#8901;M)&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_one_two_are_pos</span><span> </span><span>Arthan_Lem_3</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;We know  from &#8249;Group_ZF_3.thy&#8250; that finite range functions are almost homomorphisms. 
  Besides reminding that fact for slopes the next lemma shows 
  that finite range functions do not belong to &#8249;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;. 
  This is important, because the projection
  of the set of finite range functions defines zero in the real number construction in &#8249;Real_ZF_x.thy&#8250; 
  series, while the projection of &#8249;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&#8250; becomes the set of (strictly) positive reals. 
  We don&#39;t want zero to be positive, do we? The next lemma is a part of Lemma 5 in the Arthan&#39;s paper 
  \cite{Arthan2004}.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L1B</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span>   </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8713; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L1</span><span> </span><span>group1.Group_ZF_3_3_L1</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>) &#8712; Fin(&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Finite1_L21</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>) &#8745; &#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8712; Fin(&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Fin_subset_lemma</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8713; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;We want to show that if $f$ is a slope and neither $f$ nor $-f$ are in &#8249;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;, 
  then $f$ is bounded. The next lemma is the first step towards that goal and 
  shows that if slope is not in &#8249;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&#8250; then $f($&#8249;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;$)$ is bounded above.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L2</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8713; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsBoundedAbove(f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>), IntegerOrder)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>) &#8838; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>func1_1_L6</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>) &#8745; &#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8712; Fin(&#8484;)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_T1</span><span> </span><span>group3.OrderedGroup_ZF_2_L4</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If $f$ is a slope and $-f\notin$ &#8249;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;, then 
  $f($&#8249;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;$)$ is bounded below.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L3</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;\&lt;fm&gt;f &#8713; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsBoundedBelow(f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>), IntegerOrder)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;sm&gt;(f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>))) = (\&lt;fm&gt;f)``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_T2</span><span> </span><span>group0_2_T2</span><span> </span><span>PositiveSet_def</span><span> </span><span>func1_1_L15C</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>T</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsBoundedBelow(f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>), IntegerOrder)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L12</span><span> </span><span>Int_ZF_2_3_L2</span><span> </span><span>PositiveSet_def</span><span> </span><span>func1_1_L6</span><span> 
</span><span>      </span><span>Int_ZF_2_T1</span><span> </span><span>group3.OrderedGroup_ZF_2_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A slope that is bounded on &#8249;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8250; is bounded everywhere.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L4</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(f`(n)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(m)) \&lt;lsq&gt; &#120814;&#8901;max&#948;(f) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#120812; \&lt;lsq&gt; abs(f`(&#120813;))&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120813;)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_2_1_L2B</span><span> </span><span>int_abs_nonneg</span><span> </span><span>int_one_two_are_pos</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120812;\&lt;lsq&gt;L&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">note</span></span><span> </span><span>A2</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120812;)) \&lt;lsq&gt; &#120814;&#8901;max&#948;(f) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120812;)) \&lt;lsq&gt; max&#948;(f)&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#120812; \&lt;lsq&gt; max&#948;(f)&quot;</span></span></span><span> 
</span><span>      </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;max&#948;(f) &#8712; &#8484;&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120812;)) \&lt;lsq&gt; max&#948;(f) \&lt;ra&gt; max&#948;(f) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L15F</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(f`(n)) \&lt;lsq&gt; &#120814;&#8901;max&#948;(f) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span>Int_ZF_1_3_L5A</span><span> </span><span>Int_ZF_2_L15F</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(f`(\&lt;rm&gt;n)) \&lt;lsq&gt; &#120814;&#8901;max&#948;(f) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>n</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814;&#8901;max&#948;(f) &#8712; &#8484;&quot;</span></span></span><span>
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(\&lt;rm&gt;n)) \&lt;lsq&gt; &#120814;&#8901;max&#948;(f) \&lt;ra&gt; abs(f`(n))&quot;</span></span></span><span>
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(n)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_two_three_are_int</span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span>Int_ZF_1_1_L5</span><span>
</span><span>	</span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L14</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(\&lt;rm&gt;n)) \&lt;lsq&gt; &#120814;&#8901;max&#948;(f) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L15A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>    
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_L19B</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A slope whose image of the set of positive integers is bounded
  is a finite range function.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L4A</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsBounded(f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>), IntegerOrder)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A2</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>L</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;a&#8712;f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>). abs(a) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_3_L20A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T2</span><span> </span><span>T1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(f`(n)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>func1_1_L15B</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;. abs(f`(m)) \&lt;lsq&gt; &#120814;&#8901;max&#948;(f) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L4</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f``(&#8484;) &#8712; Fin(&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_1_3_L20C</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T2</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>FinRangeFunctions_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A slope whose image of the set of positive integers is bounded
  below is a finite range function or a positive slope.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L4B</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsBoundedBelow(f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>), IntegerOrder)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; FinRangeFunctions(&#8484;,&#8484;) &#8744; f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>Int_ZF_2_3_L2</span><span> </span><span>IsBounded_def</span><span> </span><span>Int_ZF_2_3_L4A</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If one slope is not greater then another on positive integers,
  then they are almost equal or the difference is a positive slope.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L4C</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>
</span><span>  </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f`(n) \&lt;lsq&gt; g`(n)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8764;g &#8744; g \&lt;fp&gt; (\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?h</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g \&lt;fp&gt; (\&lt;fm&gt;f)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;fm&gt;f) &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L12</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?h &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L12C</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsBoundedBelow(?h``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>), IntegerOrder)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;?h:&#8484;&#8594;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8838;&#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span>PositiveSet_def</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#10216;&#120812;, ?h`(n)&#10217; &#8712; IntegerOrder&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L2B</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_1_3_L10A</span><span> 
</span><span>	</span><span>Int_ZF_2_1_L12</span><span> </span><span>Int_ZF_2_1_L12B</span><span> </span><span>Int_ZF_2_1_L12A</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsBoundedBelow(?h``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>), IntegerOrder)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>func_ZF_8_L1</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?h &#8712; FinRangeFunctions(&#8484;,&#8484;) &#8744; ?h&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L4B</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8764;g &#8744; g \&lt;fp&gt; (\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L9C</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Positive slopes are arbitrarily large for large enough arguments.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L5</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>M</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. n\&lt;ra&gt;&#120813; \&lt;lsq&gt; f`(n&#8901;M)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Arthan_L_3_spec</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?j</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;GreaterOf(IntegerOrder,M,K \&lt;rs&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f)) \&lt;rs&gt; &#120813;)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f) &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L15</span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span>PositiveSet_def</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T2</span><span class="delimiter">:</span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;rs&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f)) &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;rs&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f)) \&lt;rs&gt; &#120813; &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span>int_zero_one_are_int</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M \&lt;lsq&gt; ?j&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;rs&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f)) \&lt;rs&gt; &#120813; \&lt;lsq&gt; ?j&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_3_L18</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span>T1</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span>IV</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; ?j\&lt;ra&gt;&#120813; \&lt;ra&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f))&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_2_L9C</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?N</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;GreaterOf(IntegerOrder,&#120813;,?j&#8901;M)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>T1</span><span> </span><span>III</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?j &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?j&#8901;M &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>V</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?N &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>VI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?j&#8901;M \&lt;lsq&gt; ?N&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_1_5_L3</span><span> </span><span>Int_ZF_1_3_L18</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>m</span><span>
</span><span>    </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?n</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m zdiv M&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?k</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m zmod M&quot;</span></span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?N\&lt;lsq&gt;m&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>VI</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?j&#8901;M \&lt;lsq&gt; m&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>III</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>      </span><span>VII</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m = ?n&#8901;M\&lt;ra&gt;?k&quot;</span></span></span><span> 
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;?j \&lt;lsq&gt; ?n&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>      </span><span>VIII</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?n &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?k &#8712; &#120812;..(M\&lt;rs&gt;&#120813;)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>IntDiv_ZF_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;?j \&lt;ra&gt; &#120813; \&lt;lsq&gt; ?n \&lt;ra&gt; &#120813;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?n\&lt;ra&gt;&#120813; \&lt;lsq&gt; f`(?n&#8901;M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?j \&lt;ra&gt; &#120813; \&lt;lsq&gt;  f`(?n&#8901;M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;?j\&lt;ra&gt;&#120813; \&lt;ra&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f)) \&lt;lsq&gt;  
      f`(?n&#8901;M) \&lt;ra&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f))&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>IV</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; f`(?n&#8901;M) \&lt;ra&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;)) \&lt;rs&gt; max&#948;(f))&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>I</span><span> </span><span>VIII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?n&#8901;M) \&lt;ra&gt; (minf(f,&#120812;..(M\&lt;rs&gt;&#120813;))\&lt;rs&gt; max&#948;(f)) \&lt;lsq&gt; f`(?n&#8901;M\&lt;ra&gt;?k)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L16</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; f`(?n&#8901;M\&lt;ra&gt;?k)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>VII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. ?N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>V</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Positive slopes are arbitrarily small for small enough arguments.
  Kind of dual to &#8249;Int_ZF_2_3_L5&#8250;.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L5A</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; f`(\&lt;rm&gt;m) \&lt;lsq&gt; K&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L8</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>N</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. N\&lt;lsq&gt;m &#10230;  abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>m</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N\&lt;lsq&gt;m&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;f`(\&lt;rm&gt;m) \&lt;lsq&gt; abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; f`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>Int_ZF_2_1_L14</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>II</span><span> </span><span>T1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; f`(m) \&lt;lsq&gt; 
      (abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f)) \&lt;rs&gt;(abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L10</span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span>T1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; f`(m) \&lt;lsq&gt; K&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_2_L3</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(\&lt;rm&gt;m) \&lt;lsq&gt; K&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. N\&lt;lsq&gt;m  &#10230; f`(\&lt;rm&gt;m) \&lt;lsq&gt; K&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*lemma (in int1) Int_ZF_2_3_L5A: assumes A1: &quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot; and A2: &quot;K&#8712;&#8484;&quot;
  shows &quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. m\&lt;lsq&gt;(\&lt;rm&gt;N) &#10230; f`(m) \&lt;lsq&gt; K&quot;
proof -
  from A1 have T1: &quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) &#8712; &#8484;&quot;
    using Int_ZF_2_1_L8 by auto;
  with A2 have &quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K &#8712; &#8484;&quot;
    using Int_ZF_1_1_L5 by simp;
  with A1 have 
    &quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K \&lt;lsq&gt; f`(m)&quot;
    using Int_ZF_2_3_L5 by simp;
  then obtain N where I: &quot;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot; and II:
    &quot;&#8704;m. N\&lt;lsq&gt;m &#10230;  abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K \&lt;lsq&gt; f`(m)&quot;
    by auto;
  { fix m assume A3: &quot;m\&lt;lsq&gt;(\&lt;rm&gt;N)&quot;
    with A1 have T2: &quot;f`(m) &#8712; &#8484;&quot;
      using Int_ZF_2_L1A Int_ZF_2_1_L2B by simp;
    from A1 I II A3 have
      &quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K \&lt;lsq&gt; f`(\&lt;rm&gt;m)&quot; and
      &quot;f`(\&lt;rm&gt;m) \&lt;lsq&gt; abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; f`(m)&quot;
       using PositiveSet_def Int_ZF_2_L10AA Int_ZF_2_L1A Int_ZF_2_1_L14
       by auto;
    then have 
      &quot;abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; K \&lt;lsq&gt; abs(f`(&#120812;)) \&lt;ra&gt; max&#948;(f) \&lt;rs&gt; f`(m)&quot;
      by (rule Int_order_transitive)
    with T1 A2 T2 have &quot;f`(m) \&lt;lsq&gt; K&quot;
      using Int_ZF_2_L10AB by simp; 
  } then have &quot;&#8704;m. m\&lt;lsq&gt;(\&lt;rm&gt;N) &#10230; f`(m) \&lt;lsq&gt; K&quot;
    by simp;
  with I show ?thesis by auto;
qed;*)</span></span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A special case of &#8249;Int_ZF_2_3_L5&#8250; where $K=1$.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">corollary</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L6</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; f`(m) &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span>Int_ZF_1_5_L3</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A special case of &#8249;Int_ZF_2_3_L5&#8250; where $m=N$.&#8250;</span></span></span><span> 
</span><span>
</span><span class="keyword1"><span class="command">corollary</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L6A</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span>
</span><span>   </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. K \&lt;lsq&gt; f`(N)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>N</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>int_ord_is_refl</span><span> </span><span>refl_def</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If values of a slope are not bounded above, 
  then the slope is positive.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L7</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;K&#8712;&#8484;. &#8707;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. K \&lt;lsq&gt; f`(n)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>K</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>n</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; f`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;m &#8712; f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>). K \&lt;lsq&gt; m&quot;</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>func1_1_L15D</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;K&#8712;&#8484;. &#8707;m &#8712; f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>). K \&lt;lsq&gt; m&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_4_L9</span><span> </span><span>Int_ZF_2_3_L2</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;For unbounded slope $f$ either $f\in$&#8249;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&#8250; of 
  $-f\in$&#8249;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L8</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8713; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>) Xor ((\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f``(&#8484;<span class="hidden">&#8681;</span><sub>+</sub>) &#8838; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>func1_1_L6</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub> &#8744; (\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L2</span><span> </span><span>Int_ZF_2_3_L3</span><span> </span><span>IsBounded_def</span><span> </span><span>Int_ZF_2_3_L4A</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#172;(f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub> &#8743; (\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A4</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A3</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>N1</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> 
</span><span>	</span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N1&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. N1\&lt;lsq&gt;m &#10230; f`(m) &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L6</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A4</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>N2</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> 
</span><span>	</span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N2&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>IV</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. N2\&lt;lsq&gt;m &#10230; (\&lt;fm&gt;f)`(m) &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L6</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?N</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;GreaterOf(IntegerOrder,N1,N2)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span>III</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N1 \&lt;lsq&gt; ?N&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;N2 \&lt;lsq&gt; ?N&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_1_3_L18</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>II</span><span> </span><span>IV</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>	</span><span class="string"><span class="delete"><span class="delete">&quot;f`(?N) &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;fm&gt;f)`(?N) &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;fm&gt;f)`(?N) = \&lt;rm&gt;(f`(?N))&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L12A</span><span>
</span><span>	</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>False</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L8</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>) Xor ((\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Xor_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The sum of positive slopes is a positive slope.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>sum_of_pos_sls_is_pos_sl</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f\&lt;fp&gt;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>K</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>N</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. M\&lt;lsq&gt;m &#10230; &#120812; \&lt;lsq&gt; g`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>M</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>IV</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. M\&lt;lsq&gt;m &#10230; &#120812; \&lt;lsq&gt; g`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?L</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;GreaterOf(IntegerOrder,N,M)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span>III</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>V</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?L &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#8484;&quot;</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>GreaterOf_def</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>V</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(f\&lt;fp&gt;g)`(?L) = f`(?L) \&lt;ra&gt; g`(?L)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L12B</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span>II</span><span> </span><span>III</span><span> </span><span>IV</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; f`(?L) \&lt;ra&gt; g`(?L)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_1_3_L18</span><span> </span><span>Int_ZF_2_L15F</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?L &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; (f\&lt;fp&gt;g)`(?L)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;n &#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. K \&lt;lsq&gt; (f\&lt;fp&gt;g)`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f\&lt;fp&gt;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L12C</span><span> </span><span>Int_ZF_2_3_L7</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The composition of positive slopes is a positive slope.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>comp_of_pos_sls_is_pos_sl</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>K</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;m. N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>N</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m. N\&lt;lsq&gt;m &#10230; K \&lt;lsq&gt; f`(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. N \&lt;lsq&gt; g`(M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_3_L6A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>M</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;N \&lt;lsq&gt; g`(M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. K \&lt;lsq&gt; (f&#8728;g)`(M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L10</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L11</span><span> </span><span>Int_ZF_2_3_L7</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A slope equivalent to a positive one is positive.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L9</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#10216;f,g&#10217; &#8712; AlEqRel&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;L&#8712;&#8484;. &#8704;m&#8712;&#8484;. abs(f`(m)\&lt;rs&gt;g`(m)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L9A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>   </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>L</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> 
</span><span>     </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;L&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;. abs(f`(m)\&lt;rs&gt;g`(m)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>     </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>K</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K\&lt;ra&gt;L &#8712; &#8484;&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>M</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>IV</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K\&lt;ra&gt;L \&lt;lsq&gt; f`(M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L6A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt; f`(M)\&lt;rs&gt;L&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L2B</span><span> </span><span>Int_ZF_2_L9B</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>T</span><span> </span><span>II</span><span> </span><span>III</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;f`(M)\&lt;rs&gt;L \&lt;lsq&gt; g`(M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L2B</span><span> </span><span>Int_triangle_ineq2</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K \&lt;lsq&gt;  g`(M)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>III</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. K \&lt;lsq&gt; g`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L7</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The set of positive slopes is saturated with respect to the relation of 
  equivalence of slopes.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>pos_slopes_saturated</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsSaturated(AlEqRel,&#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;equiv(&#119982;,AlEqRel)&quot;</span></span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;AlEqRel &#8838; &#119982; &#215; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L9B</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#119982;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#119982;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;g&#8712;&#119982;. &#10216;f,g&#10217; &#8712; AlEqRel &#10230; g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L9</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;IsSaturated(AlEqRel,&#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>EquivClass_3_L3</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A technical lemma involving a projection of the set of positive slopes
  and a logical epression with exclusive or.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L10</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g&#8712;&#119982;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;R = {AlEqRel``{s}. s&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>) Xor (g&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(AlEqRel``{f} &#8712; R) Xor (AlEqRel``{g} &#8712; R)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;equiv(&#119982;,AlEqRel)&quot;</span></span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;IsSaturated(AlEqRel,&#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#119982;<span class="hidden">&#8681;</span><sub>+</sub> &#8838; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8712;&#119982;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g&#8712;&#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;R = {AlEqRel``{s}. s&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>}&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(f&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>) Xor (g&#8712;&#119982;<span class="hidden">&#8681;</span><sub>+</sub>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>pos_slopes_saturated</span><span> </span><span>Int_ZF_2_1_L9B</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>EquivClass_3_L7</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Identity function is a positive slope.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L11</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;id(&#8484;) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?f</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;id(&#8484;)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>K</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>n</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K\&lt;lsq&gt;n&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L9</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?f`(n) = n&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K\&lt;lsq&gt;?f`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. K\&lt;lsq&gt;?f`(n)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L17</span><span> </span><span>Int_ZF_2_3_L7</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>      
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The identity function is not almost equal to any bounded function.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_3_L12</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#172;(id(&#8484;) &#8764; f)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;id(&#8484;) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L11</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#10216;id(&#8484;),f&#10217; &#8712; AlEqRel&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_3_L9</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>False</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L1B</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#172;(id(&#8484;) &#8764; f)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Inverting slopes&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Not every slope is a 1:1 function. However, we can still invert slopes 
  in the sense that if $f$ is a slope, then we can find a slope $g$ such that
  $f\circ g$  is almost equal to the identity function. 
  The goal of this this section is to establish this fact for positive slopes.
&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If $f$ is a positive slope, then for every positive integer $p$ 
  the set $\{n\in Z_+: p\leq f(n)\}$ is a nonempty subset of positive integers.
  Recall that $f^{-1}(p)$ is the notation for the smallest element of this set.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L1</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;A = {n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. p \&lt;lsq&gt; f`(n)}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;A &#8838; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;A &#8800; 0&quot;</span></span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(p) &#8712; A&quot;</span></span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;A. f&#175;(p) \&lt;lsq&gt; m&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A3</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;A &#8838; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. p \&lt;lsq&gt; f`(n)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_3_L6A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A3</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;A &#8800; 0&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A3</span><span> </span><span>I</span><span> </span><span>II</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(p) &#8712; A&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;A. f&#175;(p) \&lt;lsq&gt; m&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L1C</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If $f$ is a positive slope and $p$ is a positive integer $p$, then 
   $f^{-1}(p)$ (defined as the minimum of the set $\{n\in Z_+: p\leq f(n)\}$ ) 
  is a (well defined) positive integer.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L2</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(p) &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;p \&lt;lsq&gt; f`(f&#175;(p))&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>Int_ZF_2_4_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If $f$ is a positive slope and $p$ is a positive integer such 
  that $n\leq f(p)$, then
  $f^{-1}(n) \leq p$.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L3</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m \&lt;lsq&gt; f`(p)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m) \&lt;lsq&gt; p&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>Int_ZF_2_4_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;An upper bound $f(f^{-1}(m) -1)$ for positive slopes.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L4</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)\&lt;rs&gt;&#120813;) \&lt;lsq&gt; m&quot;</span></span></span><span>   </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)\&lt;rs&gt;&#120813;) &#8800; m&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m) &#8712; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span>PositiveSet_def</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f:&#8484;&#8594;&#8484;&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L1</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)\&lt;rs&gt;&#120813;) &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>apply_funtype</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m \&lt;lsq&gt; f`(f&#175;(m)\&lt;rs&gt;&#120813;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m) \&lt;lsq&gt; f&#175;(m)\&lt;rs&gt;&#120813;&quot;</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_4_L3</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>False</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_2_L3AA</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#172;(m \&lt;lsq&gt; f`(f&#175;(m)\&lt;rs&gt;&#120813;))&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T1</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)\&lt;rs&gt;&#120813;) \&lt;lsq&gt; m&quot;</span></span></span><span>   
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_L19</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>T1</span><span> </span><span>I</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)\&lt;rs&gt;&#120813;) &#8800; m&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_L19</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The (candidate for) the inverse of a positive slope is nondecreasing.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L5</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m\&lt;lsq&gt;n&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m) \&lt;lsq&gt; f&#175;(n)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A2</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L7</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n \&lt;lsq&gt; f`(f&#175;(n))&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m \&lt;lsq&gt; f`(f&#175;(n))&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>T</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m) \&lt;lsq&gt; f&#175;(n)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span>Int_ZF_2_4_L3</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If $f^{-1}(m)$ is positive and $n$ is a positive integer, then, 
  then $f^{-1}(m+n)-1$ is positive.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L6</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>  </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m)\&lt;rs&gt;&#120813; \&lt;lsq&gt;  f&#175;(m\&lt;ra&gt;n) \&lt;rs&gt; &#120813;&quot;</span></span></span><span>
</span><span>     </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_1_5_L7A</span><span> </span><span>Int_ZF_2_4_L2</span><span> 
</span><span>       </span><span>Int_ZF_2_4_L5</span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_1_1_L4</span><span> 
</span><span>       </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A3</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L7</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If $f$ is a slope, then $f(f^{-1}(m+n)-f^{-1}(m) - f^{-1}(n))$ is 
  uniformly bounded above and below. Will it be the messiest IsarMathLib
  proof ever? Only time will tell.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L7</span><span class="delimiter">:</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>
</span><span>  </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;U&#8712;&#8484;. &#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n)) \&lt;lsq&gt; U&quot;</span></span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;. &#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. N \&lt;lsq&gt; f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n))&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;L&#8712;&#8484;. &#8704;r&#8712;&#8484;. f`(r) \&lt;lsq&gt; f`(r\&lt;rs&gt;&#120813;) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L28</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>L</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> 
</span><span>    </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;L&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;r&#8712;&#8484;. f`(r) \&lt;lsq&gt; f`(r\&lt;rs&gt;&#120813;) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;. &#8704;r&#8712;&#8484;.&#8704;p&#8712;&#8484;.&#8704;q&#8712;&#8484;. f`(r\&lt;rs&gt;p\&lt;rs&gt;q) \&lt;lsq&gt; f`(r)\&lt;rs&gt;f`(p)\&lt;rs&gt;f`(q)\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;K&#8712;&#8484;. &#8704;r&#8712;&#8484;.&#8704;p&#8712;&#8484;.&#8704;q&#8712;&#8484;. f`(r)\&lt;rs&gt;f`(p)\&lt;rs&gt;f`(q)\&lt;ra&gt;K \&lt;lsq&gt; f`(r\&lt;rs&gt;p\&lt;rs&gt;q)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L30</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>M</span><span> </span><span>K</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>    </span><span>IV</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;r&#8712;&#8484;.&#8704;p&#8712;&#8484;.&#8704;q&#8712;&#8484;. f`(r\&lt;rs&gt;p\&lt;rs&gt;q) \&lt;lsq&gt; f`(r)\&lt;rs&gt;f`(p)\&lt;rs&gt;f`(q)\&lt;ra&gt;M&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>    </span><span>V</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;K&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>VI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;r&#8712;&#8484;.&#8704;p&#8712;&#8484;.&#8704;q&#8712;&#8484;. f`(r)\&lt;rs&gt;f`(p)\&lt;rs&gt;f`(q)\&lt;ra&gt;K \&lt;lsq&gt; f`(r\&lt;rs&gt;p\&lt;rs&gt;q)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span>III</span><span> </span><span>V</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;L\&lt;ra&gt;M &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;rm&gt;L) \&lt;rs&gt; L \&lt;ra&gt; K &#8712; &#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>m</span><span> </span><span>n</span><span>
</span><span>      </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n)) \&lt;lsq&gt;  L\&lt;ra&gt;M &#8743; 
	(\&lt;rm&gt;L)\&lt;rs&gt;L\&lt;ra&gt;K \&lt;lsq&gt; f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n))&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>	</span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?r</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m\&lt;ra&gt;n)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?p</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?q</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(n)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;?p &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?q &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?r &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span>pos_int_closed_add_unfolded</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	</span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T2</span><span class="delimiter">:</span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;m &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;n &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?p &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?q &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?r &#8712; &#8484;&quot;</span></span></span><span> 
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	</span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A2</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T3</span><span class="delimiter">:</span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;?r\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?p\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?q\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>pos_int_closed_add_unfolded</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	</span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>VII</span><span class="delimiter">:</span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;m\&lt;ra&gt;n \&lt;lsq&gt; f`(?r)&quot;</span></span></span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;m \&lt;lsq&gt; f`(?p)&quot;</span></span></span><span>  
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;n \&lt;lsq&gt; f`(?q)&quot;</span></span></span><span>  
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span>pos_int_closed_add_unfolded</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	</span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span>T3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>VIII</span><span class="delimiter">:</span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r\&lt;rs&gt;&#120813;) \&lt;lsq&gt; m\&lt;ra&gt;n&quot;</span></span></span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?p\&lt;rs&gt;&#120813;) \&lt;lsq&gt; m&quot;</span></span></span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?q\&lt;rs&gt;&#120813;) \&lt;lsq&gt; n&quot;</span></span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>pos_int_closed_add_unfolded</span><span> </span><span>Int_ZF_2_4_L4</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	</span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r\&lt;rs&gt;?p\&lt;rs&gt;?q) \&lt;lsq&gt; L\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>IV</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r\&lt;rs&gt;?p\&lt;rs&gt;?q) \&lt;lsq&gt; f`(?r)\&lt;rs&gt;f`(?p)\&lt;rs&gt;f`(?q)\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">moreover</span></span><span> 
</span><span>	  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span>II</span><span> </span><span>T2</span><span> </span><span>VIII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r) \&lt;lsq&gt; f`(?r\&lt;rs&gt;&#120813;) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r\&lt;rs&gt;&#120813;) \&lt;ra&gt; L \&lt;lsq&gt; m\&lt;ra&gt;n\&lt;ra&gt;L&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r) \&lt;lsq&gt;  m\&lt;ra&gt;n\&lt;ra&gt;L&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>VII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r) \&lt;rs&gt; f`(?p) \&lt;lsq&gt; m\&lt;ra&gt;n\&lt;ra&gt;L\&lt;rs&gt;m&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_ineq_add_sides</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>T2</span><span> </span><span>VII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r) \&lt;rs&gt; f`(?p) \&lt;rs&gt; f`(?q) \&lt;lsq&gt; n\&lt;ra&gt;L\&lt;rs&gt;n&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_2_L9</span><span> </span><span>int_ineq_add_sides</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>III</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r) \&lt;rs&gt; f`(?p) \&lt;rs&gt; f`(?q) \&lt;ra&gt; M \&lt;lsq&gt; L\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_2_L3</span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r\&lt;rs&gt;?p\&lt;rs&gt;?q) \&lt;lsq&gt; L\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>	</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;rm&gt;L)\&lt;rs&gt;L \&lt;ra&gt;K \&lt;lsq&gt; f`(?r\&lt;rs&gt;?p\&lt;rs&gt;?q)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span>II</span><span> </span><span>T2</span><span> </span><span>VIII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?p) \&lt;lsq&gt; f`(?p\&lt;rs&gt;&#120813;) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?p\&lt;rs&gt;&#120813;) \&lt;ra&gt; L \&lt;lsq&gt; m \&lt;ra&gt;L&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?p) \&lt;lsq&gt;  m \&lt;ra&gt;L&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>VII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m\&lt;ra&gt;n \&lt;rs&gt;(m\&lt;ra&gt;L) \&lt;lsq&gt; f`(?r) \&lt;rs&gt; f`(?p)&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_ineq_add_sides</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n \&lt;rs&gt; L \&lt;lsq&gt;  f`(?r) \&lt;rs&gt; f`(?p)&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_2_L9</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">moreover</span></span><span>
</span><span>	  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span>II</span><span> </span><span>T2</span><span> </span><span>VIII</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?q) \&lt;lsq&gt; f`(?q\&lt;rs&gt;&#120813;) \&lt;ra&gt; L&quot;</span></span></span><span>
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?q\&lt;rs&gt;&#120813;) \&lt;ra&gt; L \&lt;lsq&gt; n \&lt;ra&gt;L&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?q) \&lt;lsq&gt;  n \&lt;ra&gt;L&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;n \&lt;rs&gt; L \&lt;rs&gt; (n\&lt;ra&gt;L) \&lt;lsq&gt;  f`(?r) \&lt;rs&gt; f`(?p) \&lt;rs&gt; f`(?q)&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_ineq_add_sides</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>V</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;rm&gt;L)\&lt;rs&gt;L \&lt;ra&gt;K \&lt;lsq&gt;  f`(?r) \&lt;rs&gt; f`(?p) \&lt;rs&gt; f`(?q) \&lt;ra&gt; K&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_2_L3</span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>VI</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>	    </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r) \&lt;rs&gt; f`(?p) \&lt;rs&gt; f`(?q) \&lt;ra&gt; K \&lt;lsq&gt; f`(?r\&lt;rs&gt;?p\&lt;rs&gt;?q)&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>	  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;rm&gt;L)\&lt;rs&gt;L \&lt;ra&gt;K \&lt;lsq&gt; f`(?r\&lt;rs&gt;?p\&lt;rs&gt;?q)&quot;</span></span></span><span>
</span><span>	    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>	</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span>
</span><span>	  </span><span class="string"><span class="delete"><span class="delete">&quot;f`(?r\&lt;rs&gt;?p\&lt;rs&gt;?q) \&lt;lsq&gt;  L\&lt;ra&gt;M &#8743; 
	  (\&lt;rm&gt;L)\&lt;rs&gt;L\&lt;ra&gt;K \&lt;lsq&gt; f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n))&quot;</span></span></span><span> 
</span><span>	  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span> 
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;U&#8712;&#8484;. &#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n)) \&lt;lsq&gt; U&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;. &#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. N \&lt;lsq&gt; f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n))&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The expression $f^{-1}(m+n)-f^{-1}(m) - f^{-1}(n)$ is uniformly bounded
  for all pairs $\langle m,n \rangle \in$ &#8249;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;. 
  Recall that in the &#8249;int1&#8250;
  context &#8249;&#949;(f,x)&#8250; is defined so that 
  $\varepsilon(f,\langle m,n \rangle ) = f^{-1}(m+n)-f^{-1}(m) - f^{-1}(n)$.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L8</span><span class="delimiter">:</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>
</span><span>  </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M. &#8704;x&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(&#949;(f,x)) \&lt;lsq&gt; M&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;U&#8712;&#8484;. &#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n)) \&lt;lsq&gt; U&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;N&#8712;&#8484;. &#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. N \&lt;lsq&gt; f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n))&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span>  </span><span>Int_ZF_2_4_L7</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>U</span><span> </span><span>N</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n)) \&lt;lsq&gt; U&quot;</span></span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. N \&lt;lsq&gt; f`(f&#175;(m\&lt;ra&gt;n)\&lt;rs&gt;f&#175;(m)\&lt;rs&gt;f&#175;(n))&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub> &#8800; 0&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_one_two_are_pos</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f: &#8484;&#8594;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;a&#8712;&#8484;.&#8707;b&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>.&#8704;x. b\&lt;lsq&gt;x &#10230; a \&lt;lsq&gt; f`(x)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;a&#8712;&#8484;.&#8707;b&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>.&#8704;y. b\&lt;lsq&gt;y &#10230; f`(\&lt;rm&gt;y) \&lt;lsq&gt; a&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L5A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;x&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#949;(f,x) &#8712; &#8484; &#8743; f`(&#949;(f,x)) \&lt;lsq&gt; U &#8743; N \&lt;lsq&gt; f`(&#949;(f,x))&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>x</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?m</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;fst(x)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?n</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;snd(x)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?m &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?n &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?m\&lt;ra&gt;?n &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>pos_int_closed_add_unfolded</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>	</span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(?m\&lt;ra&gt;?n) &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(?m) &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(?n) &#8712; &#8484;&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>	</span><span class="string"><span class="delete"><span class="delete">&quot;&#949;(f,x) &#8712; &#8484; &#8743; f`(&#949;(f,x)) \&lt;lsq&gt; U &#8743; N \&lt;lsq&gt; f`(&#949;(f,x))&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M.&#8704;x&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(&#949;(f,x)) \&lt;lsq&gt; M&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_1_6_L4</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The (candidate for) inverse of a positive slope is a (well defined) 
  function on &#8249;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8250;.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L9</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g = {&#10216;p,f&#175;(p)&#10217;. p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g : &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8594;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g : &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8594;&#8484;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f&#175;(p) &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f&#175;(p) &#8712; &#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;g : &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8594;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g : &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8594;&#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>ZF_fun_from_total</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;What are the values of the (candidate for) the inverse of a positive slope?&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L10</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g = {&#10216;p,f&#175;(p)&#10217;. p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>}&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g`(p) = f&#175;(p)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;g : &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8594;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L9</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span>A3</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g`(p) = f&#175;(p)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>ZF_fun_from_tot_val</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The (candidate for) the inverse of a positive slope is a slope.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L11</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>  </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>
</span><span>  </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g = {&#10216;p,f&#175;(p)&#10217;. p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;OddExtension(&#8484;,IntegerAddition,IntegerOrder,g) &#8712; &#119982;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;L. &#8704;x&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(&#949;(f,x)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L8</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>L</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;x&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(&#949;(f,x)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;g : &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#8594;&#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L9</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(&#948;(g,m,n)) \&lt;lsq&gt; L&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>m</span><span> </span><span>n</span><span>
</span><span>      </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A4</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#10216;m,n&#10217; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&#215;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(&#949;(f,&#10216;m,n&#10217;)) \&lt;lsq&gt; L&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#949;(f,&#10216;m,n&#10217;) = f&#175;(m\&lt;ra&gt;n) \&lt;rs&gt; f&#175;(m) \&lt;rs&gt; f&#175;(n)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span>A4</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>	</span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m\&lt;ra&gt;n) = g`(m\&lt;ra&gt;n)&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m) = g`(m)&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(n) = g`(n)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>pos_int_closed_add_unfolded</span><span> </span><span>Int_ZF_2_4_L10</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(&#948;(g,m,n)) \&lt;lsq&gt; L&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. abs(&#948;(g,m,n)) \&lt;lsq&gt; L&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_1_L24</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Every positive slope that is at least $2$ on positive integers
  almost has an inverse.&#8250;</span></span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_4_L12</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>  </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;h&#8712;&#119982;. f&#8728;h &#8764; id(&#8484;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?g</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;{&#10216;p,f&#175;(p)&#10217;. p&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?h</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;OddExtension(&#8484;,IntegerAddition,IntegerOrder,?g)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;M&#8712;&#8484;. &#8704;n&#8712;&#8484;. f`(n) \&lt;lsq&gt; f`(n\&lt;rs&gt;&#120813;) \&lt;ra&gt; M&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L28</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>M</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> 
</span><span>    </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;. f`(n) \&lt;lsq&gt; f`(n\&lt;rs&gt;&#120813;) \&lt;ra&gt; M&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?h &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L11</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;?h &#8764; id(&#8484;)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;?h &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L11</span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">note</span></span><span> </span><span>I</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>m</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#175;(m) &#8712; &#8484;&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span> 
</span><span>      </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)) \&lt;lsq&gt; f`(f&#175;(m)\&lt;rs&gt;&#120813;) \&lt;ra&gt; M&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>I</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)\&lt;rs&gt;&#120813;) \&lt;ra&gt; M \&lt;lsq&gt; m\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L4</span><span> </span><span>int_ord_transl_inv</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)) \&lt;lsq&gt; m\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m \&lt;lsq&gt; f`(f&#175;(m))&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L2</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>T</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(f&#175;(m)) = (f&#8728;?h)`(m)&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_4_L9</span><span> </span><span>Int_ZF_1_5_L11</span><span>
</span><span>	  </span><span>Int_ZF_2_4_L10</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L10</span><span>
</span><span>	</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m \&lt;lsq&gt; (f&#8728;?h)`(m) &#8743; (f&#8728;?h)`(m) \&lt;lsq&gt; m\&lt;ra&gt;M&quot;</span></span></span><span>
</span><span>	</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span> </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;?h &#8764; id(&#8484;)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L32</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span> 
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;h&#8712;&#119982;. f&#8728;h &#8764; id(&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#8249;Int_ZF_2_4_L12&#8250; is almost what we need, except that it has an assumption
  that the values of the slope that we get the inverse for are not smaller than $2$ on
  positive integers. The Arthan&#39;s proof of Theorem 11 has a mistake where he says &quot;note that
  for all but finitely many $m,n\in N$ $p=g(m)$ and $q=g(n)$ are both positive&quot;. Of course
  there may be infinitely many pairs $\langle m,n \rangle$ such that $p,q$ are not both 
  positive. This is however easy to workaround: we just modify the slope by adding a 
  constant so that the slope is large enough on positive integers and then look 
  for the inverse.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>pos_slope_has_inv</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;g&#8712;&#119982;. f&#8764;g &#8743; (&#8707;h&#8712;&#119982;. g&#8728;h &#8764; id(&#8484;))&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f: &#8484;&#8594;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#120813;&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814; &#8712; &#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span>int_zero_one_are_int</span><span> </span><span>int_two_three_are_int</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>     </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;a&#8712;&#8484;.&#8707;b&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>.&#8704;x. b\&lt;lsq&gt;x &#10230; a \&lt;lsq&gt; f`(x)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;c&#8712;&#8484;. &#120814; \&lt;lsq&gt; Minimum(IntegerOrder,{n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#120813; \&lt;lsq&gt; f`(n)\&lt;ra&gt;c})&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_1_6_L7</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>c</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;c&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>
</span><span>    </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814; \&lt;lsq&gt; Minimum(IntegerOrder,{n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. &#120813; \&lt;lsq&gt; f`(n)\&lt;ra&gt;c})&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?g</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;{&#10216;m,f`(m)\&lt;ra&gt;c&#10217;. m&#8712;&#8484;}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?g&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>IV</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8764;?g&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L33</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>IV</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#10216;f,?g&#10217; &#8712; AlEqRel&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?g &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_3_L9</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. ?g&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>m</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>I</span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>V</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814; \&lt;lsq&gt; ?g&#175;(&#120813;)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L33</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A2</span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?g&#175;(&#120813;) \&lt;lsq&gt; ?g&#175;(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L3</span><span> </span><span>int_one_two_are_pos</span><span> </span><span>Int_ZF_2_4_L5</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814; \&lt;lsq&gt; ?g&#175;(m)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120814;\&lt;rs&gt;&#120813; \&lt;lsq&gt; ?g&#175;(m)\&lt;rs&gt;&#120813;&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span>int_ord_transl_inv</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;?g&#175;(m)\&lt;rs&gt;&#120813; &#8712; &#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_1_2_L3</span><span> </span><span>Int_ZF_1_5_L3</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;h&#8712;&#119982;. ?g&#8728;h &#8764; id(&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_4_L12</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>III</span><span> </span><span>IV</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Completeness&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;In this section we consider properties of slopes that are
  needed for the proof of completeness of real numbers constructred
  in &#8249;Real_ZF_1.thy&#8250;. In particular we consider properties
  of embedding of integers into the set of slopes by the mapping
  $m \mapsto m^S$ , where $m^S$ is defined by $m^S(n) = m\cdot n$.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;If m is an integer, then $m^S$ is a slope whose value
  is $m\cdot n$ for every integer.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L1</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m &#8712; &#8484;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n &#8712; &#8484;. (m<span class="hidden">&#8679;</span><sup>S</sup>)`(n) = m&#8901;n&quot;</span></span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> &#8712; &#119982;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup>:&#8484;&#8594;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span>ZF_fun_from_total</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n &#8712; &#8484;. (m<span class="hidden">&#8679;</span><sup>S</sup>)`(n) = m&#8901;n&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>ZF_fun_from_tot_val</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>n</span><span> </span><span>k</span><span>
</span><span>    </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;k&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8901;n &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8901;k &#8712; &#8484;&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>II</span><span> </span><span>T</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#948;(m<span class="hidden">&#8679;</span><sup>S</sup>,n,k) = m&#8901;k \&lt;rs&gt; m&#8901;k&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span>Int_ZF_1_1_L1</span><span> </span><span>Int_ZF_1_2_L3</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8230; = &#120812;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#948;(m<span class="hidden">&#8679;</span><sup>S</sup>,n,k) = &#120812;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(&#948;(m<span class="hidden">&#8679;</span><sup>S</sup>,n,k)) \&lt;lsq&gt; &#120812;&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L18</span><span> </span><span>int_zero_one_are_int</span><span> </span><span>int_ord_is_refl</span><span> </span><span>refl_def</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;.&#8704;k&#8712;&#8484;. abs(&#948;(m<span class="hidden">&#8679;</span><sup>S</sup>,n,k)) \&lt;lsq&gt; &#120812;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span class="keyword3"><span class="command">show</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_2_1_L5</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;For any slope $f$ there is an integer $m$ such that there is some slope $g$ 
  that is almost equal to $m^S$ and dominates $f$ in the sense that $f\leq g$ 
  on positive integers (which implies that either $g$ is almost equal to $f$ or
  $g-f$ is a positive slope. This will be used in &#8249;Real_ZF_1.thy&#8250; to show
  that for any real number there is an integer that (whose real embedding) 
  is greater or equal.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L2</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;m&#8712;&#8484;. &#8707;g&#8712;&#119982;. (m<span class="hidden">&#8679;</span><sup>S</sup>&#8764;g &#8743; (f&#8764;g &#8744; g\&lt;fp&gt;(\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>))&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;m k. m&#8712;&#8484; &#8743; k&#8712;&#8484; &#8743; (&#8704;p&#8712;&#8484;. abs(f`(p)) \&lt;lsq&gt; m&#8901;abs(p)\&lt;ra&gt;k)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Arthan_Lem_8</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>m</span><span> </span><span>k</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>II</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> 
</span><span>    </span><span>III</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;p&#8712;&#8484;. abs(f`(p)) \&lt;lsq&gt; m&#8901;abs(p)\&lt;ra&gt;k&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?g</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;{&#10216;n,m<span class="hidden">&#8679;</span><sup>S</sup>`(n) \&lt;ra&gt;k&#10217;. n&#8712;&#8484;}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>I</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>IV</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>II</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>V</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?g&#8712;&#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>VI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup>&#8764;?g&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L33</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>n</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(n) &#8712; &#8484;&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L2B</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(n) \&lt;lsq&gt; abs(f`(n))&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L19C</span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span>  
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>III</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(n)) \&lt;lsq&gt; m&#8901;abs(n) \&lt;ra&gt; k&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;abs(f`(n)) \&lt;lsq&gt; m&#8901;n\&lt;ra&gt;k&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_5_L4A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(n) \&lt;lsq&gt; m&#8901;n\&lt;ra&gt;k&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_order_transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>II</span><span> </span><span>IV</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?g`(n) = (m<span class="hidden">&#8679;</span><sup>S</sup>)`(n)\&lt;ra&gt;k&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L33</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;?g`(n) = m&#8901;n\&lt;ra&gt;k&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>PositiveSet_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f`(n) \&lt;lsq&gt; ?g`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. f`(n) \&lt;lsq&gt; ?g`(n)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>V</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8764;?g &#8744; ?g \&lt;fp&gt; (\&lt;fm&gt;f) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L4C</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>I</span><span> </span><span>V</span><span> </span><span>VI</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The negative of an integer embeds in slopes as a negative of the 
  orgiginal embedding.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L3</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;m &#8712; &#8484;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;rm&gt;m)<span class="hidden">&#8679;</span><sup>S</sup> = \&lt;fm&gt;(m<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;rm&gt;m)<span class="hidden">&#8679;</span><sup>S</sup>: &#8484;&#8594;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;fm&gt;(m<span class="hidden">&#8679;</span><sup>S</sup>)): &#8484;&#8594;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>AlmostHoms_def</span><span> </span><span>Int_ZF_2_1_L12</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;. ((\&lt;rm&gt;m)<span class="hidden">&#8679;</span><sup>S</sup>)`(n) = (\&lt;fm&gt;(m<span class="hidden">&#8679;</span><sup>S</sup>))`(n)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>n</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;((\&lt;rm&gt;m)<span class="hidden">&#8679;</span><sup>S</sup>)`(n) = (\&lt;rm&gt;m)&#8901;n&quot;</span></span></span><span>
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;fm&gt;(m<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = \&lt;rm&gt;(m&#8901;n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_2_1_L12A</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;((\&lt;rm&gt;m)<span class="hidden">&#8679;</span><sup>S</sup>)`(n) = (\&lt;fm&gt;(m<span class="hidden">&#8679;</span><sup>S</sup>))`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;rm&gt;m)<span class="hidden">&#8679;</span><sup>S</sup> = \&lt;fm&gt;(m<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>fun_extension_iff</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The sum of embeddings is the embeding of the sum.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L3A</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;k&#8712;&#8484;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (k<span class="hidden">&#8679;</span><sup>S</sup>) = ((m\&lt;ra&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m\&lt;ra&gt;k &#8712; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T2</span><span class="delimiter">:</span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;(k<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m\&lt;ra&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>  &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (k<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_2_1_L12C</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (k<span class="hidden">&#8679;</span><sup>S</sup>) : &#8484;&#8594;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m\&lt;ra&gt;k)<span class="hidden">&#8679;</span><sup>S</sup> : &#8484;&#8594;&#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;. ((m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (k<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = ((m\&lt;ra&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)`(n)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>n</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>T1</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;((m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (k<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = (m\&lt;ra&gt;k)&#8901;n&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L12B</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_1_1_L1</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>T1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8230; = ((m\&lt;ra&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;((m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (k<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = ((m\&lt;ra&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (k<span class="hidden">&#8679;</span><sup>S</sup>) = ((m\&lt;ra&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>fun_extension_iff</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;The composition of embeddings is the embeding of the product.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L3B</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;k&#8712;&#8484;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>) = ((m&#8901;k)<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8901;k &#8712; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T2</span><span class="delimiter">:</span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;(k<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m&#8901;k)<span class="hidden">&#8679;</span><sup>S</sup>  &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_2_1_L11</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> 
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>) : &#8484;&#8594;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="string"><span class="delete"><span class="delete">&quot;(m&#8901;k)<span class="hidden">&#8679;</span><sup>S</sup> : &#8484;&#8594;&#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>AlmostHoms_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;. ((m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = ((m&#8901;k)<span class="hidden">&#8679;</span><sup>S</sup>)`(n)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>n</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n&#8712;&#8484;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>T2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span>
</span><span>      </span><span class="string"><span class="delete"><span class="delete">&quot;((m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = (m<span class="hidden">&#8679;</span><sup>S</sup>)`(k&#8901;n)&quot;</span></span></span><span>
</span><span>       </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_1_L10</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k&#8901;n &#8712; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>)`(k&#8901;n) = m&#8901;k&#8901;n&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_1_1_L7</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;((m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = m&#8901;k&#8901;n&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>T1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8901;k&#8901;n = ((m&#8901;k)<span class="hidden">&#8679;</span><sup>S</sup>)`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;((m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>))`(n) = ((m&#8901;k)<span class="hidden">&#8679;</span><sup>S</sup>)`(n)&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8728; (k<span class="hidden">&#8679;</span><sup>S</sup>) = ((m&#8901;k)<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>fun_extension_iff</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Embedding integers in slopes preserves order.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L4</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;m\&lt;lsq&gt;n&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8764; (n<span class="hidden">&#8679;</span><sup>S</sup>) &#8744; (n<span class="hidden">&#8679;</span><sup>S</sup>)\&lt;fp&gt;(\&lt;fm&gt;(m<span class="hidden">&#8679;</span><sup>S</sup>)) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;n<span class="hidden">&#8679;</span><sup>S</sup> &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;k&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. (m<span class="hidden">&#8679;</span><sup>S</sup>)`(k) \&lt;lsq&gt; (n<span class="hidden">&#8679;</span><sup>S</sup>)`(k)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_3_L13B</span><span> </span><span>Int_ZF_2_L1A</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_5_L1</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L4C</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;We aim at showing that $m\mapsto m^S$ is an injection modulo
  the relation of almost equality. To do that we first show that if
  $m^S$ has finite range, then $m=0$.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L5</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m=&#120812;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>FinRangeFunctions_def</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>AlmostHoms_def</span><span> 
</span><span>    </span><span>func_imagedef</span><span> </span><span>Int_ZF_1_6_L8</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Embeddings of two integers are almost equal only if 
  the integers are equal.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L6</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m&#8712;&#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;k&#8712;&#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m<span class="hidden">&#8679;</span><sup>S</sup>) &#8764; (k<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m=k&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>T</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m\&lt;rs&gt;k &#8712; &#8484;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L5</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(\&lt;fm&gt;(k<span class="hidden">&#8679;</span><sup>S</sup>)) =  ((\&lt;rm&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L3</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> \&lt;fp&gt; (\&lt;fm&gt;(k<span class="hidden">&#8679;</span><sup>S</sup>)) = (m<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; ((\&lt;rm&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> \&lt;fp&gt; (\&lt;fm&gt;(k<span class="hidden">&#8679;</span><sup>S</sup>)) = ((m\&lt;rs&gt;k)<span class="hidden">&#8679;</span><sup>S</sup>)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span>Int_ZF_2_5_L3A</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m<span class="hidden">&#8679;</span><sup>S</sup> \&lt;fp&gt; (\&lt;fm&gt;(k<span class="hidden">&#8679;</span><sup>S</sup>)) &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_2_1_L9D</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(m\&lt;rs&gt;k)<span class="hidden">&#8679;</span><sup>S</sup> &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>T</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m\&lt;rs&gt;k = &#120812;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L5</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>A1</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;m=k&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>Int_ZF_1_L15</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Embedding of $1$ is the identity slope and embedding of zero is a 
  finite range function.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L7</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">shows</span></span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#120813;<span class="hidden">&#8679;</span><sup>S</sup> = id(&#8484;)&quot;</span></span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#120812;<span class="hidden">&#8679;</span><sup>S</sup> &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;id(&#8484;) = {&#10216;x,x&#10217;. x&#8712;&#8484;}&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>id_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120813;<span class="hidden">&#8679;</span><sup>S</sup> = id(&#8484;)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;{&#120812;<span class="hidden">&#8679;</span><sup>S</sup>`(n). n&#8712;&#8484;} = {&#120812;&#8901;n. n&#8712;&#8484;}&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8230; = {&#120812;}&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_1_1_L4</span><span> </span><span>int_not_empty</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;{&#120812;<span class="hidden">&#8679;</span><sup>S</sup>`(n). n&#8712;&#8484;} = {&#120812;}&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;{&#120812;<span class="hidden">&#8679;</span><sup>S</sup>`(n). n&#8712;&#8484;} &#8712; Fin(&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Finite1_L16</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120812;<span class="hidden">&#8679;</span><sup>S</sup>: &#8484;&#8594;&#8484;&quot;</span></span></span><span> 
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>int_zero_one_are_int</span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>AlmostHoms_def</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#120812;<span class="hidden">&#8679;</span><sup>S</sup> &#8712; FinRangeFunctions(&#8484;,&#8484;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Finite1_L19</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>  
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;A somewhat technical condition for a embedding of an integer 
  to be &quot;less  or equal&quot; (in the sense apriopriate for slopes) than 
  the composition of a slope and another integer (embedding).&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L8</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;M &#8712; &#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>
</span><span>  </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. M&#8901;n \&lt;lsq&gt; f`(N&#8901;n)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M<span class="hidden">&#8679;</span><sup>S</sup> &#8764; f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>) &#8744;  (f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>)) \&lt;fp&gt; (\&lt;fm&gt;(M<span class="hidden">&#8679;</span><sup>S</sup>)) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;M<span class="hidden">&#8679;</span><sup>S</sup> &#8712; &#119982;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_2_1_L11</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. (M<span class="hidden">&#8679;</span><sup>S</sup>)`(n) \&lt;lsq&gt; (f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>))`(n)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L10</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L4C</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Another technical condition for the composition of a slope and 
  an integer (embedding) to be &quot;less  or equal&quot; (in the sense apriopriate 
  for slopes) than embedding of another integer.&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>int1</span><span class="delimiter">)</span><span> </span><span>Int_ZF_2_5_L9</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>A1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f &#8712; &#119982;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>A2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;N &#8712; &#8484;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;M &#8712; &#8484;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span>
</span><span>  </span><span>A3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>.  f`(N&#8901;n) \&lt;lsq&gt; M&#8901;n &quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>) &#8764; (M<span class="hidden">&#8679;</span><sup>S</sup>) &#8744; (M<span class="hidden">&#8679;</span><sup>S</sup>) \&lt;fp&gt; (\&lt;fm&gt;(f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>))) &#8712; &#119982;<span class="hidden">&#8681;</span><sub>+</sub>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>) &#8712; &#119982;&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;M<span class="hidden">&#8679;</span><sup>S</sup> &#8712; &#119982;&quot;</span></span></span><span>  
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>Int_ZF_2_1_L11</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>A1</span><span> </span><span>A2</span><span> </span><span>A3</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;n&#8712;&#8484;<span class="hidden">&#8681;</span><sub>+</sub>. (f&#8728;(N<span class="hidden">&#8679;</span><sup>S</sup>))`(n) \&lt;lsq&gt; (M<span class="hidden">&#8679;</span><sup>S</sup>)`(n) &quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_5_L1</span><span> </span><span>PositiveSet_def</span><span> </span><span>Int_ZF_2_1_L10</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Int_ZF_2_3_L4C</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span></pre>

</div>
</body>
</html>
